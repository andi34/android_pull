#!/bin/bash
echo "Patching Kernel"
cd kernel/samsung/espresso10
echo "----------------------------------------"
echo "Revert bcmdhd: Restore previous 1.28.19.4 (RC2_1130) driver"
git fetch https://gerrit.omnirom.org/android_kernel_samsung_espresso10 refs/changes/95/8195/1 && git cherry-pick FETCH_HEAD
echo "----------------------------------------"
echo "Revert p31xx/p51xx: Update configs for bcmdhd 1.28.19.4"
git fetch https://gerrit.omnirom.org/android_kernel_samsung_espresso10 refs/changes/96/8196/1 && git cherry-pick FETCH_HEAD
echo "----------------------------------------"
echo "revert some parts from JB Update 1"
git fetch https://gerrit.omnirom.org/android_kernel_samsung_espresso10 refs/changes/95/8695/1 && git cherry-pick FETCH_HEAD
echo "----------------------------------------"
echo "Add back missing parts from Upstream 3.0.38 -> 3.0.39"
git fetch https://gerrit.omnirom.org/android_kernel_samsung_espresso10 refs/changes/96/8696/1 && git cherry-pick FETCH_HEAD
echo "----------------------------------------"
echo "Rectify various build errors"
git fetch https://gerrit.omnirom.org/android_kernel_samsung_espresso10 refs/changes/97/8697/1 && git cherry-pick FETCH_HEAD
echo "----------------------------------------"
echo "bcmdhd: workaround broken AC video queue in IBSS mode"
git fetch https://gerrit.omnirom.org/android_kernel_samsung_espresso10 refs/changes/98/8698/1 && git cherry-pick FETCH_HEAD
echo "----------------------------------------"
echo "WLAN subsystem: Sysctl support for key TCP/IP parameters"
git fetch https://gerrit.omnirom.org/android_kernel_samsung_espresso10 refs/changes/99/8699/1 && git cherry-pick FETCH_HEAD
echo "----------------------------------------"
echo "cfg80211: Fix memory leak"
git fetch https://gerrit.omnirom.org/android_kernel_samsung_espresso10 refs/changes/55/8155/2 && git cherry-pick FETCH_HEAD
echo "----------------------------------------"
cd ../../..

