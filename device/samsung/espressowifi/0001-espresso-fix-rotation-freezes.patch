From faa6b5bf177c686d08451ac93bf713dbbdf3765d Mon Sep 17 00:00:00 2001
From: Andreas Blaesius <skate4life@gmx.de>
Date: Sat, 3 Feb 2018 12:56:41 +0100
Subject: [PATCH] espresso: fix rotation freezes

Change-Id: I164a24c7763b5cec0c428405e41f81e594921890
---
 overlay/custom-common/frameworks/base/core/res/res/values/config.xml | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/overlay/custom-common/frameworks/base/core/res/res/values/config.xml b/overlay/custom-common/frameworks/base/core/res/res/values/config.xml
index 6568ddb..0f6df83 100644
--- a/overlay/custom-common/frameworks/base/core/res/res/values/config.xml
+++ b/overlay/custom-common/frameworks/base/core/res/res/values/config.xml
@@ -25,4 +25,8 @@
          espresso: needed on p31xx if hwrotation=270 -->
     <bool name="config_animateScreenLights">true</bool>
 
+    <!-- Older rotation sensors are not setting event.timestamp correctly. Setting to
+         true will use SystemClock.elapsedRealtimeNanos() to set timestamp. -->
+    <bool name="config_useSystemClockforRotationSensor">true</bool>
+
 </resources>
-- 
2.7.4

