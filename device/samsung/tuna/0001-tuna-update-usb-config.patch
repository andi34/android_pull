From 4cf4db76e4d1c246a973464bdd2d0bf21cd4393f Mon Sep 17 00:00:00 2001
From: ZeeLog <Danjel.Zammit@gmail.com>
Date: Thu, 11 May 2017 14:02:53 +0200
Subject: [PATCH] tuna: update usb config

Change-Id: Ie5a0fbc82573cbc485d784dab1e935266ff7ab09
---
 rootdir/init.tuna.usb.rc | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/rootdir/init.tuna.usb.rc b/rootdir/init.tuna.usb.rc
index e86a7bd..0c6c149 100755
--- a/rootdir/init.tuna.usb.rc
+++ b/rootdir/init.tuna.usb.rc
@@ -8,6 +8,16 @@ on boot
     write /sys/class/android_usb/android0/iManufacturer ${ro.product.manufacturer}
     write /sys/class/android_usb/android0/iProduct ${ro.product.model}
 
+# USB configuration with adb
+on property:sys.usb.config=adb
+    write /sys/class/android_usb/android0/enable 0
+    write /sys/class/android_usb/android0/idVendor 04e8
+    write /sys/class/android_usb/android0/idProduct 6860
+    write /sys/class/android_usb/android0/functions ${sys.usb.config}
+    write /sys/class/android_usb/android0/enable 1
+    start adbd
+    setprop sys.usb.state ${sys.usb.config}
+
 on property:sys.usb.config=mtp
     write /sys/class/android_usb/android0/enable 0
     write /sys/class/android_usb/android0/idVendor 04e8
-- 
2.7.4

