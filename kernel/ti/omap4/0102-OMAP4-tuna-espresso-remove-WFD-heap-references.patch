From 15a84fe9edf1af57089ed8c7d90701897a26cd33 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?D=C3=A1niel=20J=C3=A1rai?= <jaraidaniel@gmail.com>
Date: Sat, 27 Jan 2018 16:38:10 +0100
Subject: [PATCH 102/102] OMAP4: tuna, espresso: remove WFD heap references

Change-Id: If72268dd3224e4ff4047dd302ed79fce17892cd8
---
 arch/arm/mach-omap2/board-espresso.c | 5 +----
 arch/arm/mach-omap2/board-tuna.c     | 5 ++---
 2 files changed, 3 insertions(+), 7 deletions(-)

diff --git a/arch/arm/mach-omap2/board-espresso.c b/arch/arm/mach-omap2/board-espresso.c
index ae11961..dd2fde2 100644
--- a/arch/arm/mach-omap2/board-espresso.c
+++ b/arch/arm/mach-omap2/board-espresso.c
@@ -455,8 +455,6 @@ static void __init espresso_map_io(void)
 static void omap4_espresso_init_carveout_sizes(
 		struct omap_ion_platform_data *ion)
 {
-	/* WFD is not supported in espresso So the size is zero */
-	ion->secure_output_wfdhdcp_size = 0;
 	ion->ducati_heap_size = (SZ_1M * 65);
 #ifndef CONFIG_ION_OMAP_TILER_DYNAMIC_ALLOC
 	ion->tiler1d_size = (SZ_1M * 14);
@@ -487,8 +485,7 @@ static void __init espresso_reserve(void)
 	/* ipu needs to recognize secure input buffer area as well */
 	omap_ipu_set_static_mempool(PHYS_ADDR_DUCATI_MEM,
 				    PHYS_ADDR_DUCATI_SIZE +
-				    OMAP4_ION_HEAP_SECURE_INPUT_SIZE +
-				    OMAP4_ION_HEAP_SECURE_OUTPUT_WFDHDCP_SIZE);
+				    OMAP4_ION_HEAP_SECURE_INPUT_SIZE);
 	omap_reserve();
 }
 
diff --git a/arch/arm/mach-omap2/board-tuna.c b/arch/arm/mach-omap2/board-tuna.c
index 45d14c0..3b38638 100755
--- a/arch/arm/mach-omap2/board-tuna.c
+++ b/arch/arm/mach-omap2/board-tuna.c
@@ -1389,8 +1389,6 @@ static void __init tuna_map_io(void)
 static void omap4_tuna_init_carveout_sizes(
 		struct omap_ion_platform_data *ion)
 {
-	/* WFD is not supported in tuna So the size is zero */
-	ion->secure_output_wfdhdcp_size = 0;
 	ion->ducati_heap_size = (SZ_1M * 105);
 #ifndef CONFIG_ION_OMAP_TILER_DYNAMIC_ALLOC
 	ion->tiler1d_size = (SZ_1M * 90);
@@ -1425,7 +1423,8 @@ static void __init tuna_reserve(void)
 
 	/* ipu needs to recognize secure input buffer area as well */
 	omap_ipu_set_static_mempool(PHYS_ADDR_DUCATI_MEM,
-				  PHYS_ADDR_DUCATI_SIZE + OMAP4_ION_HEAP_SECURE_INPUT_SIZE);
+				    PHYS_ADDR_DUCATI_SIZE +
+				    OMAP4_ION_HEAP_SECURE_INPUT_SIZE);
 
 	omap_reserve();
 }
-- 
2.7.4

