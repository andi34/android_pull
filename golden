#!/bin/bash
# Your build source code directory path. In the example below the build source code directory path is in the "home" folder. If your source code directory is on an external HDD it should look like: //media/your PC username/the name of your storage device/path/to/your/source/code/folder
SAUCE=~/android/kk4.4

# Let's apply all commits!
echo ""
echo "----------------------------------------"
cd $SAUCE/frameworks/native
git fetch https://github.com/andi34/SlimRoms_frameworks_native.git kk4.4-ste
echo "----------------------------------------"
echo "[2/3] STE OMX Fix"
git cherry-pick f9ed64b47ac1ff3c822c13f1265a12b34293d596
echo "----------------------------------------"
echo "native:Fix buffering on STE devices"
git cherry-pick 4358356378706f40ac6bd589f4c1d2c007d7eec3
echo "----------------------------------------"
echo "----------------------------------------"
cd $SAUCE/frameworks/av
git fetch https://github.com/andi34/SlimRoms_frameworks_av.git kk4.4-ste
echo "----------------------------------------"
echo "STE Multimedia Fix"
git cherry-pick 05bb5665ba58b587a91f074806d71cb394ad3e25
echo "----------------------------------------"
echo "STE-OMX-getSupportedProfileLevel-fix"
git cherry-pick b5aefc0c9c0eafe78468eab0c73b498c4ebb1509
echo "----------------------------------------"
echo "STE-OMX Fix Streaming Video"
git cherry-pick 292d745a688ff8672b50fc817a40eb22eded1c3a
echo "----------------------------------------"
echo " Revert DO NOT MERGE: Camera: Adjust pointers to ANW buffers to avoid infoleak"
git cherry-pick 3b1a765b2fd107547033f8b18ee0a3a31d7e8206
echo "----------------------------------------"
echo "----------------------------------------"
cd $SAUCE/frameworks/base
git fetch https://github.com/andi34/SlimRoms_frameworks_base.git kk4.4-ste
echo "----------------------------------------"
echo "[1/3] STE OMX Fix"
git cherry-pick f8f5f30ecf194136a3e33ff5702b57e59189cbc1
echo "----------------------------------------"
echo "----------------------------------------"
cd $SAUCE/system/core
git fetch https://github.com/andi34/SlimRoms_system_core.git kk4.4-ste
echo "----------------------------------------"
echo "[3/3] STE OMX Fix"
git cherry-pick 659fc39e46cd363f8944cdf0904e43d73a477b36
echo "----------------------------------------"
echo "init: Allow load of lpm.rc by parsing a cmdline argument"
git cherry-pick a50b2b0b2791d52b7281e8a157b68e22c51d89eb
echo "----------------------------------------"
echo "----------------------------------------"
cd $SAUCE/packages/apps/Camera2
git fetch https://github.com/andi34/SlimRoms_packages_apps_Camera2.git kk4.4
echo "Camera: Fix saturation, contrast, sharpness parameters"
git cherry-pick 895a31c933f96425519437c766e4d0081883da77
echo "----------------------------------------"
echo "----------------------------------------"
cd $SAUCE
echo "DONE"
echo "----------------------------------------"
echo "----------------------------------------"
